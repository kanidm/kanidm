<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="`Schema` is one of the foundational concepts of the server. It provides a set of rules to enforce that `Entries` ava’s must be compliant to, to be considered valid for commit to the database. This allows us to provide requirements and structure as to what an `Entry` must have and may contain which enables many other parts to function."><meta name="keywords" content="rust, rustlang, rust-lang, schema"><title>kanidm::schema - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../kanidm/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../kanidm/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module schema</a></h2><div class="sidebar-elems"><section><div class="block"><ul><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></div></section><div id="sidebar-vars" data-name="schema" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../kanidm/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">kanidm</a>::<wbr><a class="mod" href="#">schema</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/kanidm/schema.rs.html#1-2224">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p><a href="struct.Schema.html"><code>Schema</code></a> is one of the foundational concepts of the server. It provides a
set of rules to enforce that <a href="../entry/index.html"><code>Entries</code></a> ava’s must be compliant to, to be
considered valid for commit to the database. This allows us to provide
requirements and structure as to what an <a href="../entry/index.html"><code>Entry</code></a> must have and may contain
which enables many other parts to function.</p>
<p>To define this structure we define <a href="struct.SchemaAttribute.html"><code>Attributes</code></a> that provide rules for how
and ava should be structured. We also define <a href="struct.SchemaClass.html"><code>Classes</code></a> that define
the rules of which <a href="struct.SchemaAttribute.html"><code>Attributes</code></a> may or must exist on an <a href="../entry/index.html"><code>Entry</code></a> for it
to be considered valid. An <a href="../entry/index.html"><code>Entry</code></a> must have at least 1 to infinite
<a href="struct.SchemaClass.html"><code>Classes</code></a>. [`Classes’] are additive.</p>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Schema.html" title="kanidm::schema::Schema struct">Schema</a></div><div class="item-right docblock-short"><p>Schema stores the set of <a href="struct.SchemaClass.html"><code>Classes</code></a> and <a href="struct.SchemaAttribute.html"><code>Attributes</code></a> that the server will
use to validate <a href="../entry/index.html"><code>Entries</code></a>, <a href="../filter/index.html"><code>Filters</code></a> and <a href="../modify/index.html"><code>Modifications</code></a>. Additionally the
schema stores an extracted copy of the current attribute indexing metadata that
is used by the backend during queries.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SchemaAttribute.html" title="kanidm::schema::SchemaAttribute struct">SchemaAttribute</a></div><div class="item-right docblock-short"><p>An item reperesenting an attribute and the rules that enforce it. These rules enforce if an
attribute on an <a href="../entry/index.html"><code>Entry</code></a> may be single or multi value, must be unique amongst all other types
of this attribute, if the attribute should be <a href="../value/enum.IndexType.html"><code>indexed</code></a>, and what type of data <a href="../value/enum.SyntaxType.html"><code>syntax</code></a> it may hold.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SchemaClass.html" title="kanidm::schema::SchemaClass struct">SchemaClass</a></div><div class="item-right docblock-short"><p>An item reperesenting a class and the rules for that class. These rules enforce that an
<a href="../entry/index.html"><code>Entry</code></a>’s avas conform to a set of requirements, giving structure to an entry about
what avas must or may exist. The kanidm project provides attributes in <code>systemmust</code> and
<code>systemmay</code>, which can not be altered. An administrator may extend these in the <code>must</code>
and <code>may</code> attributes.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SchemaReadTransaction.html" title="kanidm::schema::SchemaReadTransaction struct">SchemaReadTransaction</a></div><div class="item-right docblock-short"><p>A readonly transaction of the working schema set.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SchemaWriteTransaction.html" title="kanidm::schema::SchemaWriteTransaction struct">SchemaWriteTransaction</a></div><div class="item-right docblock-short"><p>A writable transaction of the working schema set. You should not change this directly,
the writability is for the server internally to allow reloading of the schema. Changes
you make will be lost when the server re-reads the schema from disk.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.SchemaTransaction.html" title="kanidm::schema::SchemaTransaction trait">SchemaTransaction</a></div><div class="item-right docblock-short"></div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="kanidm" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0 (fe5b13d68 2022-05-18)" ></div>
</body></html>